<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Temass :) </title>
  <style>
    body {
      background: #222;
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 50px 20px;
    }
     
    #contenedor {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px; /* espacio entre ruleta y puntero */
      margin: 0 auto;
    }

    #ruleta-container {
      position: relative;
      width: 320px;
      height: 320px;
    }

    #ruleta {
      width: 320px;
      height: 320px;
      border-radius: 50%;
      border: 8px solid white;
      background:
        conic-gradient(
          #e74c3c 0deg 30deg,
          #c0392b 30deg 60deg,
          #e67e22 60deg 90deg,
          #d35400 90deg 120deg,
          #f1c40f 120deg 150deg,
          #d4ac0d 150deg 180deg,
          #2ecc71 180deg 210deg,
          #27ae60 210deg 240deg,
          #3498db 240deg 270deg,
          #2980b9 270deg 300deg,
          #9b59b6 300deg 330deg,
          #8e44ad 330deg 360deg
        );
      transition: transform 4s cubic-bezier(0.25, 0.1, 0.25, 1);
      position: relative;
      z-index: 1;
    }

    #centro {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 80px;
      height: 80px;
      margin-left: -40px;
      margin-top: -40px;
      background: #222;
      border-radius: 50%;
      border: 4px solid white;
      z-index: 2;
      pointer-events: none;
    }

    .texto-seccion {
      position: absolute;
      width: 80px;
      height: 30px;
      left: 50%;
      top: 50%;
      margin-left: -40px;
      margin-top: -15px;
      text-align: center;
      line-height: 30px;
      font-weight: bold;
      font-size: 14px;
      color: white;
      user-select: none;
      pointer-events: none;
    }

    #puntero {
      width: 0;
      height: 0;
      border-top: 20px solid transparent;
      border-bottom: 20px solid transparent;
      border-right: 30px solid white;
      flex-shrink: 0;
    }

    button {
      margin-top: 30px;
      padding: 12px 28px;
      font-size: 18px;
      cursor: pointer;
      background: crimson;
      color: white;
      border: none;
      border-radius: 10px;
    }

    #resultado {
      margin-top: 25px;
      font-size: 22px;
      min-height: 28px;
    }
  </style>
</head>
<body>
  <div id="contenedor">
    <div id="ruleta-container">
      <div id="ruleta">
        <div id="centro"></div>
      </div>
    </div>
    <div id="puntero"></div>
  </div>

  <button id="boton-girar">🎡 Girar</button>
  <div id="resultado"></div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const ruleta = document.getElementById('ruleta');
      const resultado = document.getElementById('resultado');
      const boton = document.getElementById('boton-girar');

      const numSecciones = 12;
      const textos = [
        "Opción 1", "Opción 2", "Opción 3", "Opción 4",
        "Opción 5", "Opción 6", "Opción 7", "Opción 8",
        "Opción 9", "Opción 10", "Opción 11", "Opción 12"
      ];

      const textos2 = [
        "Cual es tu mayor miedo? ", "Cual es tu idioma favorito? ", "Cual es tu mayor miedo?", "Cual es tu mayor sueño? ",
        "Snacks o dulces?", "Que te gusta desayunar? ", "Algo que te gusto de tu dia?", "Te gusta el Mar?",
        "Algo que no te gusto de tu dia?", "Tienes alguna cicatriz?", "Eres bueno diciendo mentiras?", "Tienes alguna debilidad? "
      ];
      // Crear textos y posicionarlos en el centro de cada sector UNA VEZ
      for (let i = 0; i < numSecciones; i++) {
        const textoDiv = document.createElement('div');
        textoDiv.className = 'texto-seccion';
        textoDiv.textContent = textos[i];

        const angulo = i * (360 / numSecciones) + (360 / numSecciones) / 2;
        textoDiv.style.transform = `rotate(${angulo}deg) translate(0, -130px) rotate(${-angulo}deg)`;

        ruleta.appendChild(textoDiv);
      }

      let anguloActual = 0;

      boton.addEventListener('click', () => {
        resultado.textContent = "";
        boton.disabled = true;

        const vueltas = Math.floor(Math.random() * 4) + 3;
        const gradosAleatorios = Math.floor(Math.random() * 360);
        anguloActual += vueltas * 360 + gradosAleatorios;

        ruleta.style.transition = 'transform 4s cubic-bezier(0.25, 0.1, 0.25, 1)';
        ruleta.style.transform = `rotate(${anguloActual}deg)`;

        setTimeout(() => {
          // Aquí corregimos el cálculo:
          // El puntero apunta a 180° (lado derecho de la ruleta es 0°),
          // entonces restamos 180 para alinear con el puntero.
          const anguloFinal = anguloActual % 360;
          const anguloCorregido = (anguloFinal + 180 + (360 / numSecciones) / 2) % 360;
          const seccion = Math.floor(anguloCorregido / (360 / numSecciones));
          resultado.textContent = `Resultado: ${textos2[seccion]}`;

          boton.disabled = false;
        }, 4000);
      });
    });
    
  </script>
</body>
</html>
